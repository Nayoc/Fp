# 内容介绍

## 数据获取

1. 搭建Pylayer模拟楼层wifi分布，可调节楼层具体细节以及ap点数，可完全用于模拟室内稳定无线信号生成，模拟渠道可以完全模拟各种楼层内的理想数据，楼层结构、ap分布也可以在配置文件中修改，此数据来源边界切数据稳定，但由于多次模拟同一位置结果一致，所以增加了微小的随机扰动
2. 网络数据由研二学长提供，数据量大，但没点只采集了一次，可能会存在情况单一的可能，以下链接提供仿真rsrp信号数据集，80000*18：https://wireless-intelligence.com/#/dataSet?id=2c92185c7e3f1aa4017e3f2d2bfb0002
3. 实地采集，当前未有数据，但又采集方案，见**后续工作**

## 数据构建

1. 所有数据源包括模拟、网站数据、实际采集，统一通过dataset_build文件构建为四个.gz数据包，分别为train_rssi,test_rssi,train_label,test_label，另外构建size.json用于记录数据尺寸，上述内容可直接读取后写入torch.utils.DataLoad()方法
2. 数据shape目前为 n * 1 * times * ap_nums，n为数据集总数，times为每个rp点采集的数据次数，ap_nums为每个rp接收到的ap信号数

## 硬件设备

- mac cpu
- windows 3070ti

## 网络选择

fpcnn.py文件中存放各种神经网络的具体网络设计，目前已有网络MPL,CNN，ResNet，均为根据具体数据修改适合结构的网络

## 训练展示

1. 使用Animator类绘制matlab图像，图像中曲线有三条，包括损失值、训练数据准确度、测试数据准确度
   - 准确度以常量误差距离为标准，目前训练中的准确度均以2m为阈值误差，所以准确率的含义即为当前训练下定位在2m内的准确率
2. 控制台输出epoch的训练情况，包含损失值、训练数据准确度、测试数据准确度 | 平均误差距离、最小误差距离、最大误差距离

# 当前进度

## 数据

模拟数据：500x250的点格平面（40mx15m），30个rp点每隔2m采集一次rp点，每点采集30次，数据shape:628x30x30

网站数据：300x150m中18个bs发送80000*18个数据，每点采集一次

## 网络

### 模拟数据

- 300~500epoch训练集完美收敛，(2m内准确率)测试集准确率98%~100%，训练数据集60%左右，平均误差0~4m波动，最大误差4m

### 网站数据
80000*18

1. 8w数据全用训练
   - 网络1，conv 1层
   - 网络2，conv 3层
2. 随机采样1w数据训练

# 后续工作

## 数据获取

1. 真实室内数据获取（商场，学校等）
   - 手动方案
     - 使用手机软件Cellular-Z可以检索并导出附近wifi信号ap点的硬件地址和信号强度值，导出为excel
2. 在纯rssi信号效果较好后，增加其他维度信息，包括磁场、融合tdoa等

## 神经网络

### 网站数据准确率不高

- 网络数据单位置只采集一次，是扩展后放入训练，会有一定影响，考虑后续使用线性网络

### 模拟数据测试集不如训练集

- 说明存在一定的拟合，因为没有使用dropout层，可以参考后续适当drop，增加网络的随机性

## 多数据融合